#!/bin/sh

#baseline
clang++ /home/praveer/Desktop/vptr-exploit-test-suite/test.cpp -o /home/praveer/Desktop/vptr-exploit-test-suite/test -O2 -std=c++11

#CFI
clang++-5.0 /home/praveer/Desktop/vptr-exploit-test-suite/test.cpp -o /home/praveer/Desktop/vptr-exploit-test-suite/LLVM-CFI/test_cfi -flto -fsanitize=cfi -fvisibility=hidden -std=c++17

#CFIXX
/home/praveer/Desktop/CFIXX/release-build/bin/clang++ /home/praveer/Desktop/vptr-exploit-test-suite/test.cpp -o /home/praveer/Desktop/vptr-exploit-test-suite/CFIXX/test_cfixx -O2 -std=c++11

#CFIXX + CFI
/home/praveer/Desktop/CFIXX/release-build/bin/clang++ /home/praveer/Desktop/vptr-exploit-test-suite/test.cpp -o /home/praveer/Desktop/vptr-exploit-test-suite/CFIXX/test_cfixx_cfi -O2 -std=c++11 -flto -fsanitize=cfi -fvisibility=hidden

#FSAN
/home/praveer/Desktop/effectivesan-0.1.1-alpha/bin/clang++ /home/praveer/Desktop/vptr-exploit-test-suite/test.cpp -fsanitize=effective -o /home/praveer/Desktop/vptr-exploit-test-suite/EffectiveSan/test_fsan -O2 -std=c++11

#ASAN
export ASAN_OPTIONS=detect_leaks=0
export ASAN_OPTIONS=detect_stack_use_after_return=1
clang++-5.0 /home/praveer/Desktop/vptr-exploit-test-suite/test.cpp -o /home/praveer/Desktop/vptr-exploit-test-suite/ASan/test_asan -O2 -std=c++11 -fsanitize=address

#UBSAN
clang++-5.0 /home/praveer/Desktop/vptr-exploit-test-suite/test.cpp -o /home/praveer/Desktop/vptr-exploit-test-suite/UBSan/test_ubsan -O2 -std=c++11 -fsanitize=undefined
